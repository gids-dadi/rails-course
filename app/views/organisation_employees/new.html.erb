<div>
  <h1>Cascading Select Box</h1>

  <%= form_with(url: organisation_employees_path, method: :post) do |f| %>


    <fieldset>
      <div class="form-group row">
         <label class=" col-sm-2 control-label">
          First Name:
          <span class="text-danger">*</span>
         </label>
        <div class="col-sm-10">
          <%= f.text_field :firstname, placeholder: "Enter First name", class: "form-control" %>
        </div>
      </div>
    </fieldset>

     <fieldset>
      <div class="form-group row">
         <label class=" col-sm-2 control-label">
          Last Name:
          <span class="text-danger">*</span>
         </label>
        <div class="col-sm-10">
          <%= f.text_field :lastname, placeholder: "Enter Last name", class: "form-control" %>
        </div>
      </div>
    </fieldset>
<div data-controller="cascadingselect" >
<fieldset>
  <div class="form-group row">
    <label class="col-sm-2 control-label">
      Country:
      <span class="text-danger">*</span>
    </label>
    <div class="col-sm-10">
      <%= f.select :country_id,
          options_from_collection_for_select(select_country, :id, :name),
          { include_blank: "Select Country" },
            class: "form-control",
            autofocus: true,
            data: {
              action: "cascadingselect#loadStates",
              cascadingselect_target: "countrySelect"
            }
           %>
    </div>
  </div>
</fieldset>

<fieldset>
  <div class="form-group row">
    <label class="col-sm-2 control-label">
      State:
      <span class="text-danger">*</span>
    </label>
    <div class="col-sm-10">
      <%= f.select :state_id,
          options_from_collection_for_select([], :id, :name),
          { prompt: "Select State" },
            class: "form-control",
            autofocus: true,
            data: {
              action: "cascadingselect#loadCities",
              cascadingselect_target: "stateSelect"
            }
          %>
    </div>
  </div>
</fieldset>

<fieldset>
  <div class="form-group row">
    <label class="col-sm-2 control-label">
      City:
      <span class="text-danger">*</span>
    </label>
    <div class="col-sm-10">
      <%= f.select :city_id,
          options_from_collection_for_select([], :id, :name),
          { prompt: "Select City" },
            class: "form-control",
            autofocus: true,
            data: { "cascadingselect-target": "citySelect" }
           %>
    </div>
  </div>
</fieldset>
</div>






<%= f.submit "Insert Record", class: "btn btn-primary"%>
  <%end%>
</div>